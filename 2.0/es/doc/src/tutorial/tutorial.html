

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Comenzando a trabajar &mdash; pgRouting Manual (2.0.0)</title>
    
    <link rel="stylesheet" href="../../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.0.0 (0a53b89 master)',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/translations.js"></script>
    <script type="text/javascript" src="../../../_static/theme_extras.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="pgRouting Manual (2.0.0)" href="../../../index.html" />
    <link rel="up" title="Tutoriales" href="index.html" />
    <link rel="next" title="Topología para Ruteo" href="topology.html" />
    <link rel="prev" title="Tutoriales" href="index.html" /> 
  </head>
  <body>
      <div class="header"><img class="rightlogo" src="../../../_static/pgrouting.png" alt="Logo"/><h1 class="heading"><a href="../../../index.html">
          <span>pgRouting Manual (2.0.0)</span></a></h1>
        <h2 class="heading"><span>Comenzando a trabajar</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="index.html">Tutoriales</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="topology.html">Topología para Ruteo</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="getting-started">
<span id="tutorial"></span><h1>Comenzando a trabajar<a class="headerlink" href="#getting-started" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Esta es una guía simple para llevarte a través de los pasos básicos para trabajar con pgRouting. Esta guía cubre:</p>
<blockquote>
<div><ul class="simple">
<li>Cómo crear una base de datos para ser utilizada por nuestro proyecto</li>
<li>Cómo cargar algunos datos</li>
<li>Cómo construir una topología</li>
<li>Cómo comprobar la gráfica para errores</li>
<li>Cómo calcular una ruta</li>
<li>Cómo utilizar otras herramientas para ver la gráfica y la ruta</li>
<li>Cómo crear una aplicación web</li>
</ul>
</div></blockquote>
<div class="section" id="how-to-create-a-database-to-use-for-our-project">
<h2>Cómo crear una base de datos para ser utilizada por nuestro proyecto<a class="headerlink" href="#how-to-create-a-database-to-use-for-our-project" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Lo primero que hay que hacer es crear una base de datos y cargar pgRouting a la base de datos. Típicamente se creará una base de datos para cada proyecto. Una vez que se tiene una base de datos donde trabajar, se pueden cargar los datos y construir la aplicación en la base de datos. Esto hace que sea sencillo de mover el proyecto en el futuro, como por ejemplo, a un servidor de producción.</p>
<p>Para Postgresql 9.1 y versiones posteriores</p>
<div class="highlight-bash"><div class="highlight"><pre>createdb mydatabase
psql mydatabase -c <span class="s2">&quot;create extension postgis&quot;</span>
psql mydatabase -c <span class="s2">&quot;create extension pgrouting&quot;</span>
</pre></div>
</div>
<p>Para versiones anteriores de postgresql</p>
<div class="highlight-bash"><div class="highlight"><pre>createdb -T template1 template_postgis
psql template_postgis -c <span class="s2">&quot;create language plpgsql&quot;</span>
psql template_postgis -f /usr/share/postgresql/9.0/contrib/postgis-1.5/postgis.sql
psql template_postgis -f /usr/share/postgresql/9.0/contrib/postgis-1.5/spatial_ref_sys.sql
psql template_postgis -f /usr/share/postgresql/9.0/contrib/postgis_comments.sql

createdb -T template_postgis template_pgrouting
psql template_pgrouting -f /usr/share/postgresql/9.0/contrib/pgrouting-2.0/pgrouting.sql

createdb -T template_pgrouting mydatabase
</pre></div>
</div>
</div>
<div class="section" id="how-to-load-some-data">
<h2>Cómo cargar algunos datos<a class="headerlink" href="#how-to-load-some-data" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El cómo cargar los datos dependerá de el formato que tienen. Existen varias herramientas de Código Abierto  que le pueden ayudar, como:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">shp2pgsql:</th><td class="field-body"><ul class="first simple">
<li>Este es un cargador de archivo shape a postgresql</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">ogr2ogr:</th><td class="field-body"><ul class="first simple">
<li>Esta es una utilidad de conversión de datos vectoriales</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">osm2pgsql:</th><td class="field-body"><ul class="first last simple">
<li>Esta es una herramienta para cargar los datos de OSM a postgresql</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Así que estas herramientas, y probablemente otras más, le permitan leer datos vectoriales y se pueden cargar esos datos a una tabla de la base de datos. En este momento, se necesita  saber un poco sobre el contenido y estructura de los datos. Una forma fácil de navegar en tu bases de datos es con pgAdmin3 o phpPgAdmin.</p>
</div>
<div class="section" id="how-to-build-a-topology">
<h2>Cómo construir una topología<a class="headerlink" href="#how-to-build-a-topology" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Lo siguiente que se necesita hacer es construir la topología de nuestros datos de las calles. Lo que esto significa es que para cualquier borde que se encuentra en los datos de las calles, los extremos del borde se conectan a un nodo único y a otros bordes que también se conectan a ese mismo nodo único. Una vez que todos los bordes están conectados a los nodos tenemos una gráfica que se puede ser utilizada para el ruteo con pgRouting. Proporcionamos herramientas que ayudarán con esto:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">pgr_createTopology</span><span class="p">(</span><span class="s1">&#39;myroads&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">000001</span><span class="p">);</span>
</pre></div>
</div>
<p>Ver <a class="reference internal" href="../../../src/common/doc/functions/create_topology.html#pgr-create-topology"><em>pgr_createTopology</em></a> para más información.</p>
</div>
<div class="section" id="how-to-check-your-graph-for-errors">
<h2>Cómo comprobar la gráfica para errores<a class="headerlink" href="#how-to-check-your-graph-for-errors" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Hay varias posibles fuentes de errores en un gráfico. Los datos con los que usted comenzó pudieron no haber sido diseñados con ruteo en mente. Un gráfico tiene algunos requerimientos muy específicos. Uno es que sea <em>NODED</em>, esto significa que, a excepción de algunos casos de uso muy especial, cada uno de los segmentos del camino comienza y termina en un nodo y que en general no cruzan un segmento de camino al que deba conectarse.</p>
<p>Puede haber otros errores como en una calle de un solo sentido tener el sentido equivocado. No contamos con herramientas para buscar todos los errores posibles, pero tenemos algunas herramientas básicas que pueden ayudar.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">pgr_analyzegraph</span><span class="p">(</span><span class="s1">&#39;myroads&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">000001</span><span class="p">);</span>
<span class="k">select</span> <span class="n">pgr_analyzeoneway</span><span class="p">(</span><span class="s1">&#39;myroads&#39;</span><span class="p">,</span>  <span class="n">s_in_rules</span><span class="p">,</span> <span class="n">s_out_rules</span><span class="p">,</span>
                                     <span class="n">t_in_rules</span><span class="p">,</span> <span class="n">t_out_rules</span>
                                     <span class="n">direction</span><span class="p">)</span>
</pre></div>
</div>
<p>Ver <a class="reference internal" href="analytics.html#analytics"><em>Análisis de gráficas</em></a> para más información.</p>
<p>Si necesita crearle a sus datos los <em>los nodos</em>, tenemos una herramienta que puede ayudar.</p>
<p>Ver <a class="reference internal" href="../../../src/common/doc/functions/node_network.html#pgr-node-network"><em>pgr_nodeNetwork</em></a> para más información.</p>
</div>
<div class="section" id="how-to-compute-a-route">
<h2>Cómo calcular una ruta<a class="headerlink" href="#how-to-compute-a-route" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Una vez realizado el trabajo de preparación descrito anteriormente, el cálculo de una ruta es bastante fácil. Contamos con varios algoritmos, pero pueden trabajar con su red vial preparada. La forma general de una consulta de ruta es:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">select</span> <span class="n">pgr_</span><span class="o">&lt;</span><span class="n">algorithm</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="k">SQL</span> <span class="k">for</span> <span class="n">edges</span><span class="o">&gt;</span><span class="p">,</span> <span class="k">start</span><span class="p">,</span> <span class="k">end</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">additonal</span> <span class="k">options</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>Como se puede ver, es bastante sencillo. Puede revisar los algoritmos específicos para ver los detalles de cómo usarlos. Lo que usted recibe como el resultado de estas consultas será un conjunto de registros del tipo l:ref:<cite>type_cost_result</cite> or <a class="reference internal" href="../../../src/common/doc/types/geom_result.html#type-geom-result"><em>pgr_geomResult[]</em></a>.  Estos resultados tienen información como Identificación del borde y/o el identificaror id del nodo junto con el costo o la geometría para el camino desde el <em>Inicio</em> hasta el <em>final</em>. Usando los identificadores puede unir estos resultados de vuelta a su tabla de calles para obtener más información acerca de cada paso en el camino.</p>
<blockquote>
<div><ul class="simple">
<li>Véase también <a class="reference internal" href="../../../src/common/doc/types/cost_result.html#type-cost-result"><em>pgr_costResult[]</em></a> y <a class="reference internal" href="../../../src/common/doc/types/geom_result.html#type-geom-result"><em>pgr_geomResult[]</em></a>.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="how-to-use-other-tools-to-view-your-graph-and-route">
<h2>Cómo utilizar otras herramientas para ver la gráfica y la ruta<a class="headerlink" href="#how-to-use-other-tools-to-view-your-graph-and-route" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Por Definirse</p>
</div>
<div class="section" id="how-to-create-a-web-app">
<h2>Cómo crear una aplicación web<a class="headerlink" href="#how-to-create-a-web-app" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Por Definirse</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="index.html">Tutoriales</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="topology.html">Topología para Ruteo</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright pgRouting Contributors - Version 2.0.0 (0a53b89 master).
      Actualizado por última vez en Sep 24, 2013.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>