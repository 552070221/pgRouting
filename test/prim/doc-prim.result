BEGIN;
BEGIN
SET client_min_messages TO NOTICE;
SET
-- q1
SELECT * FROM pgr_prim(
    'SELECT id, source, target, cost, reverse_cost FROM edge_table', -1
);
 seq | prim_tree | start_node | end_node | edge | cost | agg_cost 
-----+-----------+------------+----------+------+------+----------
   1 |         1 |          1 |       -1 |   -1 |    0 |        0
   2 |         1 |          1 |        2 |    1 |    1 |        1
   3 |         1 |          2 |        3 |    2 |    1 |        2
   4 |         1 |          2 |        5 |    4 |    1 |        3
   5 |         1 |          3 |        6 |    5 |    1 |        4
   6 |         1 |          5 |       10 |   10 |    1 |        5
   7 |         1 |          6 |       11 |   11 |    1 |        6
   8 |         1 |         10 |       13 |   14 |    1 |        7
   9 |         1 |         11 |       12 |   13 |    1 |        8
  10 |         1 |          6 |        9 |    9 |    1 |        9
  11 |         1 |          5 |        8 |    7 |    1 |       10
  12 |         1 |          3 |        4 |    3 |    1 |       11
  13 |         1 |          8 |        7 |    6 |    1 |       12
  14 |         2 |         14 |       -1 |   -1 |    0 |        0
  15 |         2 |         14 |       15 |   17 |    1 |        1
  16 |         3 |         16 |       -1 |   -1 |    0 |        0
  17 |         3 |         16 |       17 |   18 |    1 |        1
(17 rows)

-- q2
SELECT * FROM pgr_prim(
    'SELECT id, source, target, cost, reverse_cost FROM edge_table', 4
);
 seq | prim_tree | start_node | end_node | edge | cost | agg_cost 
-----+-----------+------------+----------+------+------+----------
   1 |         1 |          4 |       -1 |   -1 |    0 |        0
   2 |         1 |          4 |        3 |    3 |    1 |        1
   3 |         1 |          4 |        9 |   16 |    1 |        2
   4 |         1 |          3 |        6 |    5 |    1 |        3
   5 |         1 |          9 |       12 |   15 |    1 |        4
   6 |         1 |          6 |       11 |   11 |    1 |        5
   7 |         1 |          6 |        5 |    8 |    1 |        6
   8 |         1 |         11 |       10 |   12 |    1 |        7
   9 |         1 |          5 |        8 |    7 |    1 |        8
  10 |         1 |         10 |       13 |   14 |    1 |        9
  11 |         1 |          8 |        7 |    6 |    1 |       10
  12 |         1 |          3 |        2 |    2 |    1 |       11
  13 |         1 |          2 |        1 |    1 |    1 |       12
(13 rows)

-- q3
SELECT * FROM pgr_prim(
    'SELECT id, source, target, cost, reverse_cost FROM edge_table where id > 10', 9
);
 seq | prim_tree | start_node | end_node | edge | cost | agg_cost 
-----+-----------+------------+----------+------+------+----------
   1 |         1 |          9 |       -1 |   -1 |    0 |        0
   2 |         1 |          9 |       12 |   15 |    1 |        1
   3 |         1 |          9 |        4 |   16 |    1 |        2
   4 |         1 |         12 |       11 |   13 |    1 |        3
   5 |         1 |         11 |        6 |   11 |    1 |        4
   6 |         1 |         11 |       10 |   12 |    1 |        5
   7 |         1 |         10 |       13 |   14 |    1 |        6
(7 rows)

-- q4
ROLLBACK;
ROLLBACK
