<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Area Contraction &mdash; pgRouting Manual (2.5-dev)</title>
    
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'v2.5.0-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="pgRouting Manual (2.5-dev)" href="index.html" />
    <link rel="up" title="Stable proposed Functions" href="proposed.html" />
    <link rel="next" title="Flow - Family of functions" href="flow-family.html" />
    <link rel="prev" title="pgr_areaContraction" href="pgr_areaContraction.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/pgrouting.png"></span>
          pgRouting</a>
        <span class="navbar-text navbar-version pull-left"><b>v2.5.0-dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="pgRouting-introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="pgRouting-installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sampledata.html">Sample Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pgRouting-concepts.html">pgRouting Concepts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pgr_version.html">pgr_version</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="types_index.html">pgRouting Data Types</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topology-functions.html">Topology - Family of Functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="routingFunctions.html">Routing Functions</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="proposed.html">Stable proposed Functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="proposed.html#experimental-and-proposed-functions">Experimental and Proposed functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Area Contraction</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#contracting-sample-data">Contracting Sample Data</a></li>
<li><a class="reference internal" href="#queries-and-images-for-one-to-many-shortest-path-calculations">Queries and images for One to Many Shortest path calculations</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="pgr_areaContraction.html" title="Previous Chapter: pgr_areaContraction"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; pgr_areaContract...</span>
    </a>
  </li>
  <li>
    <a href="flow-family.html" title="Next Chapter: Flow - Family of functions"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Flow - Family of... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="area-contraction">
<span id="areacontraction"></span><h1>Area Contraction<a class="headerlink" href="#area-contraction" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Experimental functions</p>
<ul class="last simple">
<li>They are not officially of the current release.</li>
<li>They likely will not be officially be part of the next release:<ul>
<li>The functions might not make use of ANY-INTEGER and ANY-NUMERICAL</li>
<li>Name might change.</li>
<li>Signature might change.</li>
<li>Functionality might change.</li>
<li>pgTap tests might be missing.</li>
<li>Might need c/c++ coding.</li>
<li>May lack documentation.</li>
<li>Documentation if any might need to be rewritten.</li>
<li>Documentation examples might need to be automatically generated.</li>
<li>Might need a lot of feedback from the comunity.</li>
<li>Might depend on a proposed function of pgRouting</li>
<li>Might depend on a deprecated function of pgRouting</li>
</ul>
</li>
</ul>
</div>
<p><a class="reference internal" href="pgr_areaContraction.html#pgr-areacontraction"><span class="std std-ref">pgr_areaContraction</span></a></p>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>To understand area contraction it is essential to understand area. An area is a set of vertices and
edges connecting them, some of the vertices from the set of vertices are defined as the border
vertices. These border vertices connect an area to its exterior.
Area contraction produces a contracted graph of an area such that the graph reduces to set of
shortest path from each border vertex to every other border vertex keeping the border vertex as
prohibited vertices.</p>
<p>The border vertices of a graph are specified by the user. The approach followed to calculate the
contracted graph is as follows:</p>
<blockquote>
<div><ul class="simple">
<li>Calculate the shortest path between each border vertex by using many to many routing
functions</li>
<li>Create a graph by taking the union of all the paths</li>
<li>Categorize each subpath of the graph by keeping the count of individual paths shared by
the resultant subpath</li>
<li>Output the contracted graph</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="contracting-sample-data">
<h2>Contracting Sample Data<a class="headerlink" href="#contracting-sample-data" title="Permalink to this headline">¶</a></h2>
<p>In this section, building and using a contracted graph will be shown by example.</p>
<ul class="simple">
<li>The <a class="reference internal" href="sampledata.html#sampledata"><span class="std std-ref">Sample Data</span></a> for a directed graph is used</li>
</ul>
<p>The original graph:</p>
<img alt="_images/directed_sampledata.png" src="_images/directed_sampledata.png" />
<p>After doing a area contraction operation:</p>
<img alt="_images/contracted_resultGraph.png" src="_images/contracted_resultGraph.png" />
<p>The original image shows the sample data graph. The set of border vertices taken here is [1,4,7,13].
The border vertices have been shown in red in the figure.</p>
<p>According to the size of the border vertices array we need to calculate one to many shortest paths
from each border vertex to every other border vertex. In our exaple data the border vertices array is
[1,4,7,13]. Thus the following cases for one to many shortest path calculation occur.</p>
<ul class="simple">
<li><strong>Case 1</strong>: Shortest paths from 1 to [4,7,13]</li>
<li><strong>Case 2</strong>: Shortest paths from 4 to [1,7,13]</li>
<li><strong>Case 3</strong>: Shortest paths from 7 to [1,4,13]</li>
<li><strong>Case 4</strong>: Shortest paths from 13 to [1,4,7]</li>
</ul>
</div>
<div class="section" id="queries-and-images-for-one-to-many-shortest-path-calculations">
<h2>Queries and images for One to Many Shortest path calculations<a class="headerlink" href="#queries-and-images-for-one-to-many-shortest-path-calculations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Case 1</strong>:</li>
</ul>
<p>//include dijkstra queries for 1 -&gt; 4,7,13</p>
<img alt="_images/onetomany_a.png" src="_images/onetomany_a.png" />
<ul class="simple">
<li><strong>Case 2</strong>:</li>
</ul>
<p>//include dijkstra queries for 4 -&gt; 1,7,13</p>
<img alt="_images/onetomany_b.png" src="_images/onetomany_b.png" />
<ul class="simple">
<li><strong>Case 3</strong>:</li>
</ul>
<p>//include dijkstra queries for 7 -&gt; 1,4,13</p>
<img alt="_images/onetomany_c.png" src="_images/onetomany_c.png" />
<ul class="simple">
<li><strong>Case 4</strong>:</li>
</ul>
<p>//include dijkstra queries for 13 -&gt; 1,4,7</p>
<img alt="_images/onetomany_d.png" src="_images/onetomany_d.png" />
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright pgRouting Contributors - Version v2.5.0-dev.<br/>
      Last updated on Jul 04, 2017.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>