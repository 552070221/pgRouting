<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>pgRouting: &#39;s Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pgrouting-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">pgRouting
   </div>
   <div id="projectbrief">pgRouting extends the PostGIS / PostgreSQL geospatial database to provide geospatial routing functionality.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Developer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">'s Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>. _contraction:</p>
<h1>Contraction </h1>
<p>.. include:: ../../proposed.rst :start-after: begin-warning :end-before: end-warning</p>
<p>:ref:<code>pgr_contractGraph</code></p>
<p>Contracting a graph becomes a crucial operation when talking about big graphs like the graphs involved in routing across cities, countries, continents or the whole world.</p>
<p>The contraction level and contraction operations can become very complex, as the complexity of the graphs grows.</p>
<p>For this proposal, we are making our contraction algorithm simple as possible so that more contraction operations can be added in the future.</p>
<p>We are not aiming with this work to implement all the possible contraction operations but to give a framework such that adding a contraction operation can be easily achieved.</p>
<p>For this contraction proposal I am only making 2 operations:</p>
<ol type="1">
<li>dead end contraction: vertices have one incoming edge</li>
<li>linear contraction: vertices have one incomming and one outgoing edge</li>
</ol>
<p>And with the additional characteristics:</p>
<ul>
<li>The user can forbid to contract a particular set of nodes or edges.</li>
<li>The user can decide how many times the cycle can be done.</li>
<li>If possible, the user can decide the order of the operations on a cycle.</li>
</ul>
<h2>The contraction skeleton </h2>
<p>In general we have an initial set up that may involve analizing the graph given as input and setting the non contractable nodes or edges. We have a cycle that will go and perform a contraction operation until while possible, and then move to the next contraction operation. Adding a new operation then becomes an "easy" task but more things might be involved, because the charachteristics of the graph change each time its contracted, so some interaction between contractions has to be implemented also.</p>
<h2>Procedure </h2>
<p>For contracting, we are going to cycle as follows</p>
<p>.. code-block:: none </p>
<pre class="fragment">input: G(V,E)
removed_vertices = {}


&lt;initial set up&gt;
do N times {

    while ( &lt;conditions for 1&gt; ) {
        &lt; contraction operation 1 &gt;
    }

    while ( &lt;conditions for 2&gt; ) {
        &lt; contraction operation 2&gt;
    }
    .....
}

output: G'(V',E'), removed_vertices
</pre><h2>Contraction operations for this implementation </h2>
<h3>Dead end contraction</h3>
<p>Characteristics:</p>
<ul>
<li>:math:<code>V1</code>: set of vertices with 1 incoming edge in increasing order of id:<ul>
<li>Edges with the same identifier are considered the same edge and if it has the <code>reverse_cost</code> valid the outgoing edge is ignored</li>
</ul>
</li>
</ul>
<p>.. code-block:: none</p>
<pre class="fragment">while ( V1 is not empty ) {

    delete vertex of V1
    the deleted vertex add it to removed_vertices
    vertex that leads to removed vertex, inherits the removed vertex

    &lt;adjust any conditions that might affect other contraction operation&gt;
}
</pre><h3>Linear contraction</h3>
<p>Characteristics:</p>
<ul>
<li>:math:<code>V2</code>: vertex with 1 incoming edge and 1 outgoing edge:<ul>
<li>The outgoing edge must have different identifier of the incomming edge</li>
</ul>
</li>
</ul>
<p>.. code-block:: none </p>
<pre class="fragment">while ( V2 is not empty ) {

    delete vertex of V2
    create edge (shortcut)
    the deleted vertex add it to removed_vertices
    inewly created edge, inherits the removed vertex

    &lt;adjust any conditions that might affect other contraction operations&gt;
}
</pre><h3>Notation</h3>
<p>V: is the set of vertices E: is the set of edges G: is the graph :math:<code>V1</code>: is the set of <em>dead end</em> vertices :math:<code>V2</code>: is the set of <em>linear</em> vertices removed_vertices: is the set of removed vertices</p>
<p>The contracted graph will be represented with two parameters, the modified Graph, and the removed_vertices set.</p>
<p>removed_vertices = {(v,1):{2}, (e,-1):{3}}.</p>
<p>The above notation indicates:</p>
<ul>
<li><a class="el" href="structVertex.html">Vertex</a> 2 is removed, and belongs to vertex 1 subgraph</li>
<li><a class="el" href="structVertex.html">Vertex</a> 3 is removed, and belongs to edge -1 subgraph</li>
</ul>
<h2>Examples </h2>
<p>For simplicity all the edges in the examples have unit weight.</p>
<h3>Dead End</h3>
<p>Perform dead end contraction operation first and then linear contraction 1 cycle of contraction.</p>
<p>.. image:: images/twoNodesoneEdge_a.png</p>
<p>:Input: G = {V:{1, 2}, E:{(1, 2)}}</p>
<p>:initial set up:</p>
<p>.. code-block:: none </p>
<pre class="fragment">removed_vertices={}
V1 = {2}
V2 = {}
</pre><p>:procedure:</p>
<p>.. code-block:: none </p>
<pre class="fragment">V1 = {2} is not empty

    V1 = {}
    V2 = {}
    G = {V:{1}, E:{}}
    removed_vertices = {(v, 1):{2}}.

V1 is empty
</pre><p>Since V1 is empty we go on to the next contraction operation</p>
<p>.. code-block:: none </p>
<pre class="fragment">V2 is empty
</pre><p>So we do not perform any linear contraction operation.</p>
<p>:Results:</p>
<p>.. code-block:: none </p>
<pre class="fragment">G = {V:{1}, E:{}}
removed_vertices = {(v, 1):{2}}
</pre><p>Visualy the results are</p>
<p>.. image:: images/twoNodesoneEdge_b.png</p>
<h3>Linear contraction</h3>
<p>Perform linear contraction operation first and then dead end contraction 1 cycle of contraction.</p>
<p>.. image:: images/threeNodestwoEdges_a.png</p>
<p>:Input: G = {V:{1, 2, 3}, E:{(1, 2), (2, 3)}}</p>
<p>:initial set up:</p>
<p>.. code-block:: none </p>
<pre class="fragment">removed_vertices={}
V1 = {3}
V2 = {2}
</pre><p>:procedure:</p>
<p>.. code-block:: none </p>
<pre class="fragment">V2 = {2} is not empty

    V1 = {3}
    removed_vertices = {(e, -1):{2}}
    V2 = {}
    G = {V:{1, 3}, E:{-1(1,3,c=2)}}

V2 is empty
</pre><p>.. image:: images/threeNodestwoEdges_b.png</p>
<p>Since V2 is empty we go on to the next contraction operation</p>
<p>.. code-block:: none </p>
<pre class="fragment">V1 = {3} is not empty

    V1 = {}
    V2 = {}
    removed_vertices = {(v, 1):{3, 2}}.
    G = {V:{1}, E:{}}

V1 is empty
</pre><p>:Results:</p>
<p>.. code-block:: none </p>
<pre class="fragment">removed_vertices = {(v, 1):{3, 2}}.
G = {V:{1}, E:{}}
</pre><p>Visualy the results are</p>
<p>.. image:: images/threeNodestwoEdges_c.png</p>
<h3>Sample Data</h3>
<p>Perform dead end contraction operation first and then linear contraction 1 cycle of contraction.</p>
<p>.. image:: images/undirected_sampledata_a.png</p>
<p>:Input: G = {V:{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17}, E:{1(1, 2), 2(2,3), 3(3,4), 4(2,5), 5(3,6), 6(7,8), 7(8,5), 8(5,6), 9(6,9), 10(5,10), 11(6,11), 12(10,11), 13(11,12), 14(10,13), 15(9,12), 16(4,9), 17(14,15), 18(16,17)}}</p>
<p>:initial set up:</p>
<p>.. code-block:: none </p>
<pre class="fragment">removed_vertices={}
V1 = {1,7,13,14,15,16,17}
V2 = {4,8,12}
</pre><p>:procedure:</p>
<p>.. code-block:: none </p>
<pre class="fragment">V1 = {1,7,13,14,15,16,17} is not empty

    V1 = {7,13,14,15,16,17}
    V2 = {2,4,8,12}
    G = {V:{2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17}, 
    E:{2(2,3), 3(3,4), 4(2,5), 5(3,6), 6(7,8), 7(8,5), 8(5,6), 9(6,9),
        10(5,10), 11(6,11), 12(10,11), 13(11,12), 14(10,13), 15(9,12), 16(4,9), 17(14,15), 18(16,17)}}
    removed_vertices = {(v, 2):{1}}.


V1 = {7,13,14,15,16,17} is not empty

    V1 = {8,13,14,15,16,17}
    V2 = {2,4,12}
    G = {V:{2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17}, 
    E:{2(2,3), 3(3,4), 4(2,5), 5(3,6), 7(8,5), 8(5,6), 9(6,9), 10(5,10),
        11(6,11), 12(10,11), 13(11,12), 14(10,13), 15(9,12), 16(4,9), 17(14,15), 18(16,17)}}
    removed_vertices = {(v, 2):{1}, (v,8):{7}}.

V1 = {8,13,14,15,16,17} is not empty

    V1 = {13,14,15,16,17}
    V2 = {2,4,12}
    G = {V:{2, 3, 4, 5, 6, 9, 10, 11, 12, 13, 14, 15, 16, 17}, 
    E:{2(2,3), 3(3,4), 4(2,5), 5(3,6), 8(5,6), 9(6,9), 10(5,10),
         11(6,11), 12(10,11), 13(11,12), 14(10,13), 15(9,12), 16(4,9), 17(14,15), 18(16,17)}}
    removed_vertices = {(v, 2):{1}, (v,5):{8,7}}.

V1 = {13,14,15,16,17} is not empty

    V1 = {14,15,16,17}
    V2 = {2,4,10,12}
    G = {V:{2, 3, 4, 5, 6, 9, 10, 11, 12, 14, 15, 16, 17}, 
    E:{2(2,3), 3(3,4), 4(2,5), 5(3,6), 8(5,6), 9(6,9), 10(5,10),
         11(6,11), 12(10,11), 13(11,12), 15(9,12), 16(4,9), 17(14,15), 18(16,17)}}
    removed_vertices = {(v, 2):{1}, (v,5):{8,7}, (v,10):{13}}.

V1 = {14,15,16,17} is not empty

    V1 = {16,17}
    V2 = {2,4,10,12}
    G = {V:{2, 3, 4, 5, 6, 9, 10, 11, 12, 15, 16, 17}, 
    E:{2(2,3), 3(3,4), 4(2,5), 5(3,6), 8(5,6), 9(6,9), 10(5,10),
         11(6,11), 12(10,11), 13(11,12), 15(9,12), 16(4,9)}, 18(16,17)}
    removed_vertices = {(v, 2):{1}, (v,5):{8,7}, (v,10):{13}, (v,15):{14}}.

V1 = {16,17} is not empty

    V1 = {}
    V2 = {2,4,10,12}
    G = {V:{2, 3, 4, 5, 6, 9, 10, 11, 12, 15, 17}, 
    E:{2(2,3), 3(3,4), 4(2,5), 5(3,6), 8(5,6), 9(6,9), 10(5,10),
         11(6,11), 12(10,11), 13(11,12), 15(9,12), 16(4,9)}}
    removed_vertices = {(v, 2):{1}, (v,5):{8,7}, (v,10):{13}, (v,15):{14}, (v,17):{16}}.

Since V1 is empty we go on to the next contraction operation
</pre><p>.. image:: images/undirected_sampledata_b.png</p>
<p>.. code-block:: none </p>
<pre class="fragment">V2 = {2,4,10,12} is not empty

    V1 = {}
    V2 = {4,10,12}
    G = {V:{3, 4, 5, 6, 9, 10, 11, 12, 15, 17}, 
    E:{-1(3,5), 3(3,4), 5(3,6), 8(5,6), 9(6,9), 10(5,10),
         11(6,11), 12(10,11), 13(11,12), 15(9,12), 16(4,9)}}
    removed_vertices = {(e, -1):{1,2}, (v, 2):{1}, (v,5):{8,7}, (v,10):{13}, (v,15):{14}, (v,17):{16}}.

V2 = {4,10,12} is not empty

    V1 = {}
    V2 = {10,12}
    G = {V:{3, 5, 6, 9, 10, 11, 12, 15, 17}, 
    E:{-1(3,5),-2(3,9), 5(3,6), 8(5,6), 9(6,9), 10(5,10),
         11(6,11), 12(10,11), 13(11,12), 15(9,12)}}
    removed_vertices = {(e, -1):{1,2}, (e, -2):{4}, (v, 2):{1}, (v,5):{8,7}, (v,10):{13}, (v,15):{14}, (v,17):{16}}.

V2 = {10,12} is not empty

    V1 = {}
    V2 = {12}
    G = {V:{3, 5, 6, 9, 11, 12, 15, 17}, 
    E:{-1(3,5),-2(3,9), -3(5,11), 5(3,6), 8(5,6), 9(6,9),
         11(6,11), 13(11,12), 15(9,12)}}
    removed_vertices = {(e, -1):{1,2}, (e, -2):{4}, (e,-3):{10,13}, (v, 2):{1}, (v,5):{8,7}, (v,15):{14}, (v,17):{16}}.

V2 = {12} is not empty

    V1 = {}
    V2 = {}
    G = {V:{3, 5, 6, 9, 11, 15, 17}, 
    E:{-1(3,5),-2(3,9), -3(5,11), -4(9,11), 5(3,6), 8(5,6), 9(6,9), 11(6,11)}}
    removed_vertices = {(e, -1):{1,2}, (e, -2):{4}, (e,-3):{10,13}, (e, -4):{12},
         (v, 2):{1}, (v,5):{8,7}, (v,15):{14}, (v,17):{16}}.
</pre><p>Since V1 and V2 are empty we stop our contraction here.</p>
<p>:Results:</p>
<p>.. code-block:: none </p>
<pre class="fragment">G = {V:{3, 5, 6, 9, 11, 15, 17}, 
E:{-1(3,5),-2(3,9), -3(5,11), -4(9,11), 5(3,6), 8(5,6), 9(6,9), 11(6,11)}}
removed_vertices = {(e, -1):{1,2}, (e, -2):{4}, (e,-3):{10,13}, (e, -4):{12},
     (v, 2):{1}, (v,5):{8,7}, (v,15):{14}, (v,17):{16}}.
</pre><p>Visually the results are</p>
<p>.. image:: images/undirected_sampledata_c.png</p>
<h3>Detailed Procedure</h3>
<p>:Original Data:</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q1 :end-before: &ndash; q2</p>
<p>:Addition of new columns:</p>
<p>.. code-block:: sql </p>
<pre class="fragment">    ALTER TABLE edge_table ADD is_contracted BOOLEAN DEFAULT false
    ALTER TABLE edge_table ADD contracted_vertices BIGINT[]
</pre><p>:Data After Adding Columns:</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q4 :end-before: &ndash; q5</p>
<p>:Addition of new edges by the algorithm:</p>
<p>.. code-block:: sql </p>
<pre class="fragment">    INSERT INTO edge_table(id, source, target, cost, reverse_cost, is_contracted, contracted_vertices) VALUES (-1, 3, 5, 2, 2, true, ARRAY[1, 2])
    INSERT INTO edge_table(id, source, target, cost, reverse_cost, is_contracted, contracted_vertices) VALUES (-2, 3, 9, 2, 2, true, ARRAY[4])
    INSERT INTO edge_table(id, source, target, cost, reverse_cost, is_contracted, contracted_vertices) VALUES (-3, 5, 11, 2, 2, true, ARRAY[10, 13])
    INSERT INTO edge_table(id, source, target, cost, reverse_cost, is_contracted, contracted_vertices) VALUES (-4, 9, 11, 2, 2, true, ARRAY[12])
</pre><p>:Data after addition of new edges:</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q9 :end-before: &ndash; q10</p>
<p>:Contracted Graph Data:</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q10 :end-before: &ndash; q11</p>
<h3>Dijkstra on contracted graph</h3>
<p>There are five cases which arise when calculating the shortest path between a given source and target,</p>
<p>Case 1**: Both source and target belong to the contracted graph.</p>
<p>Case 2**: Source belongs to a contracted graph, while target belongs to a vertex subgraph.</p>
<p>Case 3**: Source belongs to a contracted graph, while target belongs to an edge subgraph.</p>
<p>Case 4**: Source belongs to a vertex subgraph, while target belongs to an edge subgraph.</p>
<p>Case 5**: The path contains a new edge added by the contraction algorithm.</p>
<p>:Examples:</p>
<p>Case 1**: Routing from 3 to 11. Since 3 and 11 both are in the contracted graph it is not necessary expand the graph.</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q11 :end-before: &ndash; q12</p>
<p>Case 2**: Routing from 3 to 7. Since 7 is in the contracted subgraph of vertex 5, it is necessary to expand that vertex by adding {7, 8} to the vertex set, so the vertex set becomes {3, 5, 6, 9, 11, 15, 17 , 7, 8}</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q12 :end-before: &ndash; q13</p>
<p>Case 3**: Routing from 3 to 13. Since 13 is in the contracted subgraph of edge (5, 11), it is necessary to expand that edge by adding {10, 13} to the vertex set, so the vertex set becomes {3, 5, 6, 9, 10, 11, 13, 15, 17}.</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q13 :end-before: &ndash; q14</p>
<p>Case 4**: Routing from 7 to 13. Since 13 is in the contracted subgraph of edge (5, 11), it is necessary to expand that edge by adding {10, 13} to the vertex set, and since 7 is in the contracted subgraph of vertex 5, it is necessary to expand that vertex by adding {7, 8} vertex set, so the vertex set becomes {3, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17}</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q14 :end-before: &ndash; q15</p>
<p>Case 5**: Routing from 3 to 9. Since 3 and 9 both are in the contracted graph it is not necessary expand the graph.</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q15 :end-before: &ndash; q16</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q16 :end-before: &ndash; q17</p>
<p>This implies that it is a shortcut and should be expanded. The contracted subgraph of edge 20(3, 9, c=2) is {4}. It is necessary to expand the edge by adding {4} to the vertex set, so the vertex set becomes {3, 4, 5, 6, 9, 11, 15, 17}.</p>
<p>.. literalinclude:: doc-contraction.queries :start-after: &ndash; q17 :end-before: &ndash; q18</p>
<h3>References</h3>
<p><a href="http://www.cs.cmu.edu/afs/cs/academic/class/15210-f12/www/lectures/lecture16.pdf">http://www.cs.cmu.edu/afs/cs/academic/class/15210-f12/www/lectures/lecture16.pdf</a></p>
<p><a href="http://algo2.iti.kit.edu/documents/routeplanning/geisberger_dipl.pdf">http://algo2.iti.kit.edu/documents/routeplanning/geisberger_dipl.pdf</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Aug 6 2016 16:32:02 for pgRouting by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
