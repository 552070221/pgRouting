<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pgr_labelGraph - Proposed &mdash; pgRouting Manual (2.4-dev)</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="pgRouting Manual (2.4-dev)" href="index.html" />
    <link rel="up" title="Experimental and Proposed functions" href="proposed.html" />
    <link rel="next" title="pgr_gsoc_vrppdtw - Proposed" href="pgr_gsoc_vrppdtw.html" />
    <link rel="prev" title="pgr_pointToEdgeNode - Proposed" href="pgr_pointToEdgeNode.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/pgrouting.png"></span>
          pgRouting</a>
        <span class="navbar-text navbar-version pull-left"><b>v2.4.0-dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Build Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pgRouting-concepts.html">pgRouting Concepts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sampledata.html">Sample Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pgr_version.html">pgr_version</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="types_index.html">pgRouting Data Types</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topology.html">Topology Functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="routingFunctions.html">Routing Functions</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="proposedNext.html">Stable proposed Functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="proposed.html">Experimental and Proposed functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">pgr_labelGraph - Proposed</a><ul>
<li><a class="reference internal" href="#name">Name</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#example-usage">Example Usage</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="pgr_pointToEdgeNode.html" title="Previous Chapter: pgr_pointToEdgeNode - Proposed"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; pgr_pointToEdgeN...</span>
    </a>
  </li>
  <li>
    <a href="pgr_gsoc_vrppdtw.html" title="Next Chapter: pgr_gsoc_vrppdtw - Proposed"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">pgr_gsoc_vrppdtw... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="pgr-labelgraph-proposed">
<span id="pgr-labelgraph"></span><h1>pgr_labelGraph - Proposed<a class="headerlink" href="#pgr-labelgraph-proposed" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">pgr_labelGraph</span></tt> — Locates and labels sub-networks within a network which are not topologically connected.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>These are proposed functions</p>
<ul class="last simple">
<li>They are not officially of the current release.</li>
<li>They likely will not be officially be part of the next release:<ul>
<li>The functions might not make use of ANY-INTEGER and ANY-NUMERICAL</li>
<li>Name might change.</li>
<li>Signature might change.</li>
<li>Functionality might change.</li>
<li>pgTap tests might be missing.</li>
<li>Might need c/c++ coding.</li>
<li>May lack documentation.</li>
<li>Documentation if any might need to be rewritten.</li>
<li>Documentation examples might need to be automatically generated.</li>
<li>Might need a lot of feedback from the comunity.</li>
<li>Might depend on a proposed function of pgRouting</li>
<li>Might depend on a deprecated function of pgRouting</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>Must be run after <tt class="docutils literal"><span class="pre">pgr_createTopology()</span></tt>. No use of <tt class="docutils literal"><span class="pre">geometry</span></tt> column. Only <tt class="docutils literal"><span class="pre">id</span></tt>, <tt class="docutils literal"><span class="pre">source</span></tt> and  <tt class="docutils literal"><span class="pre">target</span></tt> columns are required.</p>
<p>The function returns:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">OK</span></tt> when a column with provided name has been generated and populated successfully. All connected edges will have unique similar integer values. In case of <tt class="docutils literal"><span class="pre">rows_where</span></tt> condition, non participating rows will have -1 integer values.</li>
<li><tt class="docutils literal"><span class="pre">FAIL</span></tt> when the processing cannot be finished due to some error. Notice will be thrown accordingly.</li>
<li><tt class="docutils literal"><span class="pre">rows_where</span> <span class="pre">condition</span> <span class="pre">generated</span> <span class="pre">0</span> <span class="pre">rows</span></tt> when passed SQL condition has not been fulfilled by any row.</li>
</ul>
</div></blockquote>
<div class="highlight-sql" id="index-0"><div class="highlight"><pre><span class="nb">varchar</span> <span class="n">pgr_labelGraph</span><span class="p">(</span><span class="nb">text</span><span class="p">,</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>A network behind any routing query may consist of sub-networks completely isolated from each other. Possible reasons could be:</p>
<ul class="simple">
<li>An island with no bridge connecting to the mainland.</li>
<li>An edge or mesh of edges failed to connect to other networks because of human negligence during data generation.</li>
<li>The data is not properly noded.</li>
<li>Topology creation failed to succeed.</li>
</ul>
<p>pgr_labelGraph() will create an integer column (with the name provided by the user) and will assign same integer values to all those edges in the network which are connected topologically. Thus better analysis regarding network structure is possible. In case of <tt class="docutils literal"><span class="pre">rows_where</span></tt> condition, non participating rows will have -1 integer values.</p>
<p>Prerequisites:
Must run <tt class="docutils literal"><span class="pre">pgr_createTopology()</span></tt> in order to generate <tt class="docutils literal"><span class="pre">source</span></tt> and <tt class="docutils literal"><span class="pre">target</span></tt> columns. Primary key column <tt class="docutils literal"><span class="pre">id</span></tt> should also be there in the network table.</p>
<p>Function accepts the following parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">edge_table:</th><td class="field-body"><tt class="docutils literal"><span class="pre">text</span></tt> Network table name, with optional schema name.</td>
</tr>
<tr class="field-even field"><th class="field-name">id:</th><td class="field-body"><tt class="docutils literal"><span class="pre">text</span></tt> Primary key column name of the network table. Default is <tt class="docutils literal"><span class="pre">id</span></tt>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">source:</th><td class="field-body"><tt class="docutils literal"><span class="pre">text</span></tt> Source column name generated after <tt class="docutils literal"><span class="pre">pgr_createTopology()</span></tt>. Default is <tt class="docutils literal"><span class="pre">source</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">target:</th><td class="field-body"><tt class="docutils literal"><span class="pre">text</span></tt> Target column name generated after <tt class="docutils literal"><span class="pre">pgr_createTopology()</span></tt>. Default is <tt class="docutils literal"><span class="pre">target</span></tt>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">subgraph:</th><td class="field-body"><tt class="docutils literal"><span class="pre">text</span></tt> Column name which will hold the integer labels for each sub-graph. Default is <tt class="docutils literal"><span class="pre">subgraph</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">rows_where:</th><td class="field-body"><tt class="docutils literal"><span class="pre">text</span></tt> The SQL where condition. Default is <tt class="docutils literal"><span class="pre">true</span></tt>, means the processing will be done on the whole table.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example-usage">
<h2>Example Usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<p>The sample data, has 3 subgraphs.</p>
<div class="highlight-python"><div class="highlight"><pre>SET client_min_messages TO WARNING;
SET
SELECT pgr_labelGraph(&#39;edge_table&#39;, &#39;id&#39;, &#39;source&#39;, &#39;target&#39;, &#39;subgraph&#39;);
 pgr_labelgraph 
----------------
 OK
(1 row)

SELECT subgraph, count(*) FROM edge_table group by subgraph;
 subgraph | count 
----------+-------
        1 |    16
        3 |     1
        2 |     1
(3 rows)
</pre></div>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/Zia-/pgrouting/blob/develop/src/common/sql/pgrouting_topology.sql">pgr_createTopology</a> to create the topology of a table based on its geometry and tolerance value.</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright pgRouting Contributors - Version v2.4.0-dev.<br/>
      Last updated on Mar 16, 2017.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>