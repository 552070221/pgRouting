<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pgr_gsoc_vrppdtw &mdash; pgRouting Manual (2.3.0-dev) (rewrite/vrppdtw)</title>
    
    <link rel="stylesheet" href="../../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.3.0 (rewrite/vrppdtw)',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="pgRouting Manual (2.3.0-dev) (rewrite/vrppdtw)" href="../../../index.html" />
    <link rel="up" title="Experimental and Proposed functions" href="../../proposed.html" />
    <link rel="next" title="__pgr_pickDeliver" href="../../pickDeliver/doc/pgr_pickDeliver.html" />
    <link rel="prev" title="pgr_labelGraph - Proposed" href="../../label_graph/doc/pgr_labelGraph.html" /> 
  </head>
  <body>
      <div class="header"><img class="rightlogo" src="../../../_static/pgrouting.png" alt="Logo"/><h1 class="heading"><a href="../../../index.html">
          <span>pgRouting Manual (2.3.0-dev) (rewrite/vrppdtw)</span></a></h1>
        <h2 class="heading"><span>pgr_gsoc_vrppdtw</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="../../label_graph/doc/pgr_labelGraph.html">pgr_labelGraph - Proposed</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../doc/index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../../pickDeliver/doc/pgr_pickDeliver.html">__pgr_pickDeliver</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="pgr-gsoc-vrppdtw">
<span id="pgr-gsocvrppdtw"></span><h1>pgr_gsoc_vrppdtw<a class="headerlink" href="#pgr-gsoc-vrppdtw" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<span id="index-0"></span><h2>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">pgr_gsoc_vrppdtw</span></tt> — Returns optimized  solution</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This is a proposed function.</p>
<ul class="simple">
<li>Is not officially in the current release</li>
<li>The implementation currently is a wrapper of <a class="reference internal" href="../../pickDeliver/doc/pgr_pickDeliver.html#pgr-pickdeliver"><em>__pgr_pickDeliver</em></a></li>
</ul>
<div class="last highlight-sql"><div class="highlight"><pre>CREATE OR REPLACE FUNCTION pgr_gsoc_vrppdtw(
    sql text,
    vehicle_num INTEGER,
    capacity INTEGER,
    OUT seq INTEGER,
    OUT rid INTEGER,
    OUT nid INTEGER,
    OUT cost INTEGER
)
RETURNS SETOF record AS
$BODY$
DECLARE
has_reverse BOOLEAN;
customers_sql TEXT;
BEGIN
    RETURN query
         SELECT a.seq, vehicle_id::INTEGER, stop_id::INTEGER AS id2, departure_time::INTEGER
        FROM _pgr_pickDeliver($1, $2, $3, 1, 30) AS a;
END
$BODY$
LANGUAGE plpgsql VOLATILE
COST 100
ROWS 1000;
</pre></div>
</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>SELECT * FROM pgr_gsoc_vrppdtw(
    &#39;select * from customer order by id&#39;, 25, 200);
 seq | rid | nid | cost 
-----+-----+-----+------
   1 |   1 |   0 |    0
   2 |   1 |   5 |  105
   3 |   1 |   3 |  196
   4 |   1 |   7 |  288
   5 |   1 |   8 |  381
   6 |   1 |  10 |  475
   7 |   1 |  11 |  568
   8 |   1 |   9 |  661
   9 |   1 |   6 |  753
  10 |   1 |   4 |  845
  11 |   1 |   2 |  939
  12 |   1 |   1 | 1031
  13 |   1 |  75 | 1124
  14 |   1 |   0 | 1140
  15 |   2 |   0 |    0
  16 |   2 |  13 |  121
  17 |   2 |  17 |  215
  18 |   2 |  18 |  308
  19 |   2 |  19 |  403
  20 |   2 |  15 |  498
  21 |   2 |  16 |  593
  22 |   2 |  14 |  685
  23 |   2 |  12 |  778
  24 |   2 |   0 |  816
  25 |   3 |   0 |    0
  26 |   3 |  20 |  100
  27 |   3 |  24 |  195
  28 |   3 |  25 |  287
  29 |   3 |  27 |  379
  30 |   3 |  29 |  473
  31 |   3 |  30 |  568
  32 |   3 |  28 |  661
  33 |   3 |  26 |  753
  34 |   3 |  23 |  756
  35 |   3 | 103 |  846
  36 |   3 |  22 |  939
  37 |   3 |  21 | 1031
  38 |   3 |   0 | 1041
  39 |   4 |   0 |    0
  40 |   4 |  32 |  122
  41 |   4 |  33 |  214
  42 |   4 |  31 |  309
  43 |   4 |  35 |  404
  44 |   4 |  37 |  500
  45 |   4 |  38 |  592
  46 |   4 |  39 |  687
  47 |   4 |  36 |  692
  48 |   4 | 105 |  782
  49 |   4 |  34 |  875
  50 |   4 |   0 |  907
  51 |   5 |   0 |    0
  52 |   5 |  43 |  107
  53 |   5 |  42 |  200
  54 |   5 |  41 |  292
  55 |   5 |  40 |  384
  56 |   5 |  44 |  477
  57 |   5 |  46 |  569
  58 |   5 |  45 |  661
  59 |   5 |  48 |  753
  60 |   5 |  51 |  756
  61 |   5 | 101 |  846
  62 |   5 |  50 |  939
  63 |   5 |  52 | 1032
  64 |   5 |  49 | 1125
  65 |   5 |  47 | 1217
  66 |   5 |   0 | 1235
  67 |   6 |   0 |    0
  68 |   6 |  57 |  125
  69 |   6 |  55 |  217
  70 |   6 |  54 |  312
  71 |   6 |  53 |  407
  72 |   6 |  56 |  501
  73 |   6 |  58 |  593
  74 |   6 |  60 |  686
  75 |   6 |  59 |  787
  76 |   6 |   0 |  822
  77 |   7 |   0 |    0
  78 |   7 |  67 |  102
  79 |   7 |  65 |  193
  80 |   7 |  63 |  285
  81 |   7 |  62 |  380
  82 |   7 |  74 |  473
  83 |   7 |  72 |  568
  84 |   7 |  61 |  661
  85 |   7 |  64 |  663
  86 |   7 | 102 |  753
  87 |   7 |  68 |  846
  88 |   7 |  66 |  942
  89 |   7 |  69 | 1034
  90 |   7 |   0 | 1049
  91 |   8 |   0 |    0
  92 |   8 |  81 |  137
  93 |   8 |  78 |  140
  94 |   8 | 104 |  230
  95 |   8 |  76 |  322
  96 |   8 |  71 |  417
  97 |   8 |  70 |  512
  98 |   8 |  73 |  605
  99 |   8 |  77 |  699
 100 |   8 |  79 |  790
 101 |   8 |  80 |  886
 102 |   8 |   0 |  937
 103 |   9 |   0 |    0
 104 |   9 |  90 |  111
 105 |   9 |  87 |  206
 106 |   9 |  86 |  297
 107 |   9 |  83 |  393
 108 |   9 |  82 |  486
 109 |   9 |  84 |  581
 110 |   9 |  85 |  674
 111 |   9 |  88 |  767
 112 |   9 |  89 |  860
 113 |   9 |  91 |  954
 114 |   9 |   0 |  976
 115 |  -1 |   0 | 8923
(115 rows)
</pre></div>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../../pickDeliver/doc/pgr_pickDeliver.html#pgr-pickdeliver"><em>__pgr_pickDeliver</em></a></li>
<li><a class="reference external" href="http://en.wikipedia.org/wiki/Vehicle_routing_problem">http://en.wikipedia.org/wiki/Vehicle_routing_problem</a></li>
</ul>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="../../label_graph/doc/pgr_labelGraph.html">pgr_labelGraph - Proposed</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../doc/index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../../pickDeliver/doc/pgr_pickDeliver.html">__pgr_pickDeliver</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright pgRouting Contributors - Version 2.3.0 (pgrouting-2.3.0-dev).
      Last updated on Jul 08, 2016.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>