<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Developer’s Guide &mdash; pgRouting Manual (2.4-dev)</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="pgRouting Manual (2.4-dev)" href="index.html" />
    <link rel="next" title="Sample Data" href="sampledata.html" />
    <link rel="prev" title="Handling parallels after getting a path (pgr_ksp focus)" href="parallel_handling.html" /> 
  </head>
  <body>
      <div class="header"><img class="rightlogo" src="_static/pgrouting.png" alt="Logo"/><h1 class="heading"><a href="index.html">
          <span>pgRouting Manual (2.4-dev)</span></a></h1>
        <h2 class="heading"><span>Developer’s Guide</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="parallel_handling.html">Handling parallels after getting a path (pgr_ksp focus)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="sampledata.html">Sample Data</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="developer-s-guide">
<span id="developer"></span><h1>Developer&#8217;s Guide<a class="headerlink" href="#developer-s-guide" title="Permalink to this headline">¶</a></h1>
<p>This contains some basic comments about developing.
More detailed information can be found on:</p>
<p><a class="reference external" href="http://docs.pgrouting.org/doxy/2.4/index.html">http://docs.pgrouting.org/doxy/2.4/index.html</a></p>
<div class="section" id="source-tree-layout">
<h2>Source Tree Layout<a class="headerlink" href="#source-tree-layout" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><em>cmake/</em></dt>
<dd>cmake scripts used as part of our build system.</dd>
<dt><em>src/</em></dt>
<dd>This is the algorithm source tree. Each algorithm is to be contained
in its on sub-tree with /doc, /sql, /src, and /test sub-directories.</dd>
</dl>
<p>For example:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">src/dijkstra</span></tt>  Main direcotry for dijkstra algorithm.</li>
<li><tt class="docutils literal"><span class="pre">src/dijkstra/doc</span></tt>  Dijkstra&#8217;s documentation directory.</li>
<li><tt class="docutils literal"><span class="pre">src/dijkstra/src</span></tt>  Dijkstra&#8217;s C and/or C++ code.</li>
<li><tt class="docutils literal"><span class="pre">src/dijkstra/sql</span></tt>  Dijkstra&#8217;s sql code.</li>
<li><tt class="docutils literal"><span class="pre">src/dijkstra/test</span></tt>  Dijkstra&#8217;s tests.</li>
<li><tt class="docutils literal"><span class="pre">src/dijkstra/test/pgtap</span></tt>  Dijkstra&#8217;s pgTaptests.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="tools">
<h2>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><em>tools/</em></dt>
<dd>Miscellaneous scripts and tools.</dd>
</dl>
<div class="section" id="pre-commit">
<h3>pre-commit<a class="headerlink" href="#pre-commit" title="Permalink to this headline">¶</a></h3>
<p>To keep version/branch/commit up to date install pelase do the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>cp tools/pre-commit .git/hooks/pre-commit
</pre></div>
</div>
<p>After each commit a the file <strong>VERSION</strong> will remain. (The hash number will be one behind)</p>
</div>
<div class="section" id="doxygen">
<h3>doxygen<a class="headerlink" href="#doxygen" title="Permalink to this headline">¶</a></h3>
<p>To use doxygen:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd </span>tools/doxygen/
make
</pre></div>
</div>
<p>The code&#8217;s documentation can be found in:</p>
<div class="highlight-bash"><div class="highlight"><pre>build/doxy/html/index.html
</pre></div>
</div>
</div>
<div class="section" id="cpplint">
<h3>cpplint<a class="headerlink" href="#cpplint" title="Permalink to this headline">¶</a></h3>
<p>We try to follow the following guidelines for C++ coding:</p>
<p><a class="reference external" href="https://google-styleguide.googlecode.com/svn/trunk/cppguide.html">https://google-styleguide.googlecode.com/svn/trunk/cppguide.html</a></p>
<p>Sample use:</p>
<div class="highlight-bash"><div class="highlight"><pre>python cpplint.py ../src/dijkstra/src/dijkstra_driver.h
../src/dijkstra/src/dijkstra_driver.h:34:  Lines should be &lt;<span class="o">=</span> 80 characters long  <span class="o">[</span>whitespace/line_length<span class="o">]</span> <span class="o">[</span>2<span class="o">]</span>
../src/dijkstra/src/dijkstra_driver.h:40:  Line ends in whitespace.  Consider deleting these extra spaces.  <span class="o">[</span>whitespace/end_of_line<span class="o">]</span> <span class="o">[</span>4<span class="o">]</span>
Done processing ../src/dijkstra/src/dijkstra_driver.h
Total errors found: 2
</pre></div>
</div>
<ul class="simple">
<li>Maybe line 34 is a very complicated calculation so you can just ignore the message</li>
<li>Delete whitespace at end of line is easy fix.</li>
<li>Use your judgement!!!</li>
</ul>
<p>Some files like <tt class="docutils literal"><span class="pre">postgres.h</span></tt> are system dependent so don&#8217;t include the directory.</p>
</div>
<div class="section" id="other-tools">
<h3>Other tools<a class="headerlink" href="#other-tools" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Tools like:</dt>
<dd><ul class="first last simple">
<li>doit</li>
<li>winnie</li>
<li>publish_doc.sh</li>
</ul>
</dd>
</dl>
<p>are very specific for the deployment of new versions, so please ask first!</p>
</div>
</div>
<div class="section" id="documentation-layout">
<h2>Documentation Layout<a class="headerlink" href="#documentation-layout" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All documentation should be in reStructuredText format.
See: &lt;<a class="reference external" href="http://docutils.sf.net/rst.html">http://docutils.sf.net/rst.html</a>&gt; for introductory docs.</p>
</div>
<p>Documentation is distributed into the source tree. This top level &#8220;doc&#8221;
directory is intended for high level documentation cover subjects like:</p>
<blockquote>
<div><ul class="simple">
<li>Compiling and testing</li>
<li>Installation</li>
<li>Tutorials</li>
<li>Users&#8217; Guide front materials</li>
<li>Reference Manual front materials</li>
<li>etc</li>
</ul>
</div></blockquote>
<p>Since the algorithm specific documentation is contained in the source
tree with the algorithm specific files, the process of building the
documentation and publishing it will need to assemble the details with
the front material as needed.</p>
<p>Also, to keep the &#8220;doc&#8221; directory from getting cluttered, each major book
like those listed above, should be contained in a separate directory under
&#8220;doc&#8221;. Any images or other materials related to the book should also be kept
in that directory.</p>
<div class="section" id="testing-infrastructure">
<h3>Testing Infrastructure<a class="headerlink" href="#testing-infrastructure" title="Permalink to this headline">¶</a></h3>
<p>Tests are part of the tree layout:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">src/dijkstra/test</span></tt>  Dijkstra&#8217;s tests.<ul>
<li><tt class="docutils literal"><span class="pre">test.conf</span></tt>  Configuration file.</li>
<li><tt class="docutils literal"><span class="pre">&lt;name&gt;.test.sql</span></tt>  Test file</li>
<li><tt class="docutils literal"><span class="pre">&lt;name&gt;.result</span></tt>  Results file bash</li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">src/dijkstra/test/pgtap</span></tt>  Dijkstra&#8217;s pgTaptests.<ul>
<li><tt class="docutils literal"><span class="pre">&lt;name&gt;.sql</span></tt> pgTap test file</li>
</ul>
</li>
</ul>
</div></blockquote>
<p class="rubric">Testing</p>
<p>Testing is executed from the top level of the tree layout:</p>
<div class="highlight-bash"><div class="highlight"><pre>tools/testers/algorithm-tester.pl
createdb  -U &lt;user&gt; ___pgr___test___
sh ./tools/testers/pg_prove_tests.sh &lt;user&gt;
dropdb  -U &lt;user&gt; ___pgr___test___
</pre></div>
</div>
<p class="rubric">Indices and tables</p>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="parallel_handling.html">Handling parallels after getting a path (pgr_ksp focus)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="sampledata.html">Sample Data</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright pgRouting Contributors - Version v2.4.0-dev.
      Last updated on Mar 16, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>